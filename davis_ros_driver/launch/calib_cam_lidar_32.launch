<launch>  
	<arg name="intrinsics_file" default="/home/hermes-18/event_camera/calibration/dv_intri_calib1023.yaml" />
	<arg name="camera_id" default="/dvs" />
	<arg name="raw_image_src" default="$(arg camera_id)/image_raw" />
	<arg name="rectified_image_src" default="$(arg camera_id)/image_rectified" />
	<arg name="camera_info_src" default="$(arg camera_id)/dvs_info" />
	<arg name="projection_matrix_topic" default="$(arg camera_id)/projection_matrix" />

	<!-- VELODYNE VLP-32C-->
	<include file="$(find velodyne_pointcloud)/launch/VLP-32C_points.launch">
	</include>

	<!--DAVIS Event Camera-->
	<node pkg= "davis_ros_driver" type="davis_ros_driver" name="davis_ros_driver">
	</node>

	<!-- RVIZ -->	
	<node pkg="rviz" type="rviz" name="rviz">
	</node>

	<!-- Calibration Extrinsics -->

    	<node pkg="calibration_publisher" type="calibration_publisher" name="calibration_publisher" output="screen">
    	    <param name="register_lidar2camera_tf" type="bool" value="false"/>
    	    <param name="publish_extrinsic_mat" type="bool" value="false"/>
    	    <param name="publish_camera_info" type="bool" value="true"/>
    	    <param name="image_topic_src" value="$(arg raw_image_src)"/>
    	    <param name="calibration_file" value="$(arg intrinsics_file)"/>
    	    <param name="target_frame" type="str" value="velodyne"/>
    	    <param name="camera_frame" type="str" value="davis"/>
    	</node>
    	<node pkg="image_processor" type="image_rectifier" name="rectifier" output="screen">
    	    <param name="image_src" value="$(arg raw_image_src)" />
    	    <param name="camera_info_src" value="$(arg camera_info_src)" />
    	</node>

    	<node pkg="image_view2_cv" type="image_view2" name="image_view2_cv"  output="screen">
    	    <remap from="image" to="image_rectified" />
    	</node>

    	<node pkg="autoware_camera_lidar_calibrator" type="autoware_camera_lidar_calibration_node" name="autoware_camera_lidar_calibration_node"  output="screen">
    	    <param name="image_src" value="/image_rectified" />
    	    <param name="camera_info_src" value="$(arg camera_info_src)" />
    	</node>
</launch>
